SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
-- ==================================================================================================================================================================================-- Versi贸n:				<1.0>-- Creado por:			<Jose Gabriel Cordero Soto>-- Fecha de creaci贸n:	<26/05/2021>-- Descripci贸n:			<Permite actualizar un registro en la tabla: ObservacionExpedienteLegajo.>-- ==================================================================================================================================================================================CREATE PROCEDURE	[Expediente].[PA_ModificarObservacionExpedienteLegajo]	@CodObservacionExpedienteLegajo		UNIQUEIDENTIFIER,	@NumeroExpediente					CHAR(14) = NULL,	@CodLegajo							UNIQUEIDENTIFIER	= NULL,	@UsuarioRed							VARCHAR(30) = NULL,	@Observacion						VARCHAR(255) = NULL,	@FechaCreacion						DATETIME2(7) = NULL,	@Urgente							BIT = NULL,	@CodEstado							TINYINT = NULLASBEGIN	--Variables	DECLARE	@L_TU_CodObservacionExpedienteLegajo		UNIQUEIDENTIFIER		= @CodObservacionExpedienteLegajo,			@L_TC_NumeroExpediente						CHAR(14)				= @NumeroExpediente,			@L_TU_CodLegajo								UNIQUEIDENTIFIER		= @CodLegajo,			@L_TC_UsuarioRed							VARCHAR(30)				= @UsuarioRed,			@L_TC_Observacion							VARCHAR(255)			= @Observacion,			@L_TF_FechaCreacion							DATETIME2(7)			= @FechaCreacion,			@L_TB_Urgente								BIT						= @Urgente,			@L_TN_CodEstado								TINYINT					= @CodEstado	--L贸gica	UPDATE	Expediente.ObservacionExpedienteLegajo		WITH (ROWLOCK)	SET		TC_NumeroExpediente							= COALESCE(@L_TC_NumeroExpediente, TC_NumeroExpediente),			TU_CodLegajo								= COALESCE(@L_TU_CodLegajo, TU_CodLegajo),			TC_UsuarioRed								= COALESCE(@L_TC_UsuarioRed, TC_UsuarioRed),			TC_Observacion								= COALESCE(@L_TC_Observacion, TC_Observacion),			TF_FechaCreacion							= COALESCE(@L_TF_FechaCreacion, TF_FechaCreacion),			TB_Urgente									= COALESCE(@L_TB_Urgente, TB_Urgente),			TN_CodEstado								= COALESCE(@L_TN_CodEstado, TN_CodEstado)	WHERE	TU_CodObservacionExpedienteLegajo			= @L_TU_CodObservacionExpedienteLegajoEND
GO
